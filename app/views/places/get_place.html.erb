<script>
	function initialize() {
  	var mapCanvas = document.getElementById('map');
  	var map_circle;
  	var mapOptions = {
    	center: new google.maps.LatLng(<%= @place.latitude %>, <%= @place.longitude %>),
    	zoom: <%= ((25 / (@place.radius / 2)) == 1) ? 10 : (25 / (@place.radius / 2)) %>,
    	mapTypeId: google.maps.MapTypeId.ROADMAP
    }
    var map = new google.maps.Map(mapCanvas, mapOptions);
    var marker = new google.maps.Marker({
    	map: map,
    	position: new google.maps.LatLng(<%= @place.latitude %>, <%= @place.longitude %>),
    	title: "qayaam",
    	draggable:true,
    });
		// Add circle overlay and bind to marker
		var circle = new google.maps.Circle({
		  map: map,
		  radius: <%= (@place.radius / 2) * 1609.34 %>,    // 10 miles in metres
		  fillColor: '#AA0000'
		});
    map_circle = circle;
		// circle.bindTo('center', marker, 'position');
	}
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBpk8v_K0Scb10sblIgxphDNA8pjNSPLpk&v=3.exp&sensor=false&callback=initialize"></script>